/* DevKit Flow - Integration Styles */
/* Ensures proper styling across all components */

/* Base application styles */
.devkit-flow-app {
  @apply min-h-screen bg-background font-sans antialiased;
}

/* Workspace-specific styles */
.workspace-studio {
  @apply flex-1 flex flex-col;
}

.workspace-regexr {
  @apply flex-1 flex flex-col;
}

.workspace-settings {
  @apply flex-1 flex flex-col;
}

/* Canvas styles */
.flow-canvas {
  @apply flex-1 bg-background;
}

.flow-canvas .react-flow__viewport {
  @apply bg-background;
}

.flow-canvas .react-flow__background {
  @apply opacity-50;
}

.flow-canvas .react-flow__node {
  @apply shadow-sm border border-border rounded-lg bg-card;
}

.flow-canvas .react-flow__node.selected {
  @apply ring-2 ring-primary ring-offset-2;
}

.flow-canvas .react-flow__edge {
  @apply stroke-muted-foreground;
}

.flow-canvas .react-flow__edge.selected {
  @apply stroke-primary;
}

/* Node styles */
.devflow-node {
  @apply bg-card border border-border rounded-lg shadow-sm;
  min-width: 200px;
  min-height: 120px;
}

.devflow-node-header {
  @apply p-3 border-b border-border bg-muted/50 rounded-t-lg;
}

.devflow-node-content {
  @apply p-3;
}

.devflow-node-footer {
  @apply p-2 border-t border-border bg-muted/30 rounded-b-lg;
}

/* Node type specific styles */
.devflow-node-task {
  @apply border-blue-200 dark:border-blue-800;
}

.devflow-node-task .devflow-node-header {
  @apply bg-blue-50 dark:bg-blue-950/50;
}

.devflow-node-code {
  @apply border-green-200 dark:border-green-800;
}

.devflow-node-code .devflow-node-header {
  @apply bg-green-50 dark:bg-green-950/50;
}

.devflow-node-reference {
  @apply border-purple-200 dark:border-purple-800;
}

.devflow-node-reference .devflow-node-header {
  @apply bg-purple-50 dark:bg-purple-950/50;
}

.devflow-node-comment {
  @apply border-yellow-200 dark:border-yellow-800;
}

.devflow-node-comment .devflow-node-header {
  @apply bg-yellow-50 dark:bg-yellow-950/50;
}

/* Status indicators */
.status-indicator {
  @apply w-3 h-3 rounded-full;
}

.status-idle {
  @apply bg-gray-400;
}

.status-active {
  @apply bg-blue-500 animate-pulse;
}

.status-completed {
  @apply bg-green-500;
}

.status-blocked {
  @apply bg-red-500;
}

/* Sidebar styles */
.app-sidebar {
  @apply w-64 border-r border-border bg-muted/30;
  transition: width 0.3s ease;
}

.app-sidebar.collapsed {
  @apply w-16;
}

.app-sidebar-content {
  @apply p-4 space-y-4;
}

/* Properties panel styles */
.properties-panel {
  @apply w-96 border-l border-border bg-muted/50 overflow-y-auto;
}

.properties-panel-content {
  @apply p-4 space-y-4;
}

/* Mobile responsive styles */
@media (max-width: 768px) {
  .app-sidebar {
    @apply fixed left-0 top-0 h-full z-40 transform -translate-x-full;
    transition: transform 0.3s ease;
  }

  .app-sidebar.open {
    @apply translate-x-0;
  }

  .properties-panel {
    @apply fixed right-0 top-0 h-full z-40 transform translate-x-full;
    transition: transform 0.3s ease;
  }

  .properties-panel.open {
    @apply translate-x-0;
  }

  .devflow-node {
    min-width: 180px;
    min-height: 100px;
  }
}

/* Loading states */
.loading-overlay {
  @apply fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center;
}

.loading-spinner {
  @apply animate-spin h-8 w-8 text-primary;
}

/* Error states */
.error-boundary {
  @apply min-h-screen bg-background flex items-center justify-center p-4;
}

.error-card {
  @apply w-full max-w-2xl bg-card border border-border rounded-lg shadow-lg;
}

/* Accessibility improvements */
.focus-visible {
  @apply outline-none ring-2 ring-primary ring-offset-2;
}

.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .devflow-node {
    @apply border-2;
  }

  .status-indicator {
    @apply border-2 border-foreground;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .status-active {
    @apply animate-none;
  }

  .loading-spinner {
    @apply animate-none;
  }

  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Print styles */
@media print {
  .app-sidebar,
  .properties-panel,
  .mobile-nav,
  .loading-overlay {
    @apply hidden;
  }

  .flow-canvas {
    @apply bg-white;
  }

  .devflow-node {
    @apply border border-gray-400 bg-white;
  }
}

/* Dark mode specific adjustments */
@media (prefers-color-scheme: dark) {
  .flow-canvas .react-flow__background {
    @apply opacity-30;
  }
}

/* Animation classes */
.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

.slide-in-right {
  animation: slideInRight 0.3s ease-in-out;
}

.slide-in-left {
  animation: slideInLeft 0.3s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideInRight {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

@keyframes slideInLeft {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}

/* Utility classes for integration */
.workspace-transition {
  transition: all 0.3s ease-in-out;
}

.panel-transition {
  transition: width 0.3s ease, transform 0.3s ease;
}

.node-transition {
  transition: all 0.2s ease;
}

/* Ensure proper z-index layering */
.z-app-background { z-index: 0; }
.z-app-content { z-index: 10; }
.z-app-sidebar { z-index: 20; }
.z-app-header { z-index: 30; }
.z-app-modal { z-index: 40; }
.z-app-toast { z-index: 50; }
.z-app-loading { z-index: 60; }